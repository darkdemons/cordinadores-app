<mat-expansion-panel>
    <mat-expansion-panel-header>
        <mat-panel-title>
            Usuarios
        </mat-panel-title>
        <mat-panel-description>
            agrega un nuevo usuario
        </mat-panel-description>
    </mat-expansion-panel-header>


    <div class="row">
        <form class="col s12" [formGroup]="usuarioForm" (ngSubmit)="guardarUsuario()">
            <div class="row">
                <div class="input-field col s4">
                    <input formControlName="usuario" id="usuario" type="text" required class="validate">
                    <label for="usuario">Usuario</label>
                    <div *ngIf="usuario.invalid && (usuario.dirty || usuario.touched)" class=" red-text  text-darken-4">
                        <div *ngIf="usuario.errors.required">
                            El usuario es requerido.
                        </div>
                    </div>
                </div>


                <div class="input-field col s4">
                    <input formControlName="password" id="password" type="text" class="validate">
                    <label for="password">Password</label>
                    <div *ngIf="password.invalid && (password.dirty || password.touched)" class=" red-text  text-darken-4">
                        <div *ngIf="password.errors.required">
                            EL password es requerido.
                        </div>
                        <div *ngIf="password.errors.minLength">
                            El password debe de tener minimo 8 caracteres
                        </div>
                    </div>
                </div>



            </div>


            <div class="row">
                <div class="input-field col l4 m4 s6">
                    <input formControlName="ci_coor" id="ci_coor" type="text" required class="validate">
                    <label for="ci_coor">CI</label>
                    <div *ngIf="ci_coor.invalid && (ci_coor.dirty || ci_coor.touched)" class=" red-text  text-darken-4">
                        <div *ngIf="ci_coor.errors.required">
                            La ci es necesaria
                        </div>

                    </div>
                </div>


                <div class="input-field col l4 m4 s6">
                    <input formControlName="nom_coor" id="nom_coor" type="text" required class="validate">
                    <label for="nom_coor">Nombre</label>
                    <div *ngIf="nom_coor.invalid && (nom_coor.dirty || nom_coor.touched)" class=" red-text  text-darken-4">
                        <div *ngIf="nom_coor.errors.required">
                            El nombre es requerido
                        </div>

                    </div>

                </div>

                <div class="input-field col l4 m4 s6">
                    <input formControlName="ape_coor" id="ape_coor" type="text" required class="validate">
                    <label for="ape_coor">Apellido</label>
                    <div *ngIf="ape_coor.invalid && (ape_coor.dirty || ape_coor.touched)" class=" red-text  text-darken-4">
                        <div *ngIf="ape_coor.errors.required">
                            El apellido es necesario
                        </div>

                    </div>
                </div>


            </div>
            <div class="row">
                <div class="input-field col l4 m4 s6">
                    <input formControlName="correo_coor" id="correo_coor" type="text" required class="validate">
                    <label for="correo_coor">Correo</label>
                    <div *ngIf="correo_coor.invalid && (correo_coor.dirty || correo_coor.touched)" class=" red-text  text-darken-4">
                        <div *ngIf="correo_coor.errors.required">
                            El correo es necesario
                        </div>

                    </div>
                </div>


                <div class="input-field col l4 m4 s6">
                    <input formControlName="role" id="role" type="text" required class="validate">
                    <label for="role">Roll</label>
                    <div *ngIf="role.invalid && (role.dirty || role.touched)" class=" red-text  text-darken-4">
                        <div *ngIf="role.errors.required">
                            El roll es necesario
                        </div>

                    </div>
                </div>

            </div>



            <button class="btn waves-effect waves-light  light-blue darken-4" type="submit" [disabled]="!usuarioForm.valid">Guardar
    <i class="material-icons right">send</i>
  </button>
        </form>
    </div>

</mat-expansion-panel>



<div class="input-field container">
    <input type="text" (keyup)="applyFilter($event.target.value)" id="filter">
    <label for="filter">Busqueda avanzada</label>
</div>

<!-- /////////////////////////////////////////////////////////////// -->


<div class="mat-elevation-z8">

    <table mat-table [dataSource]="dataSource" matSort>




        <ng-container matColumnDef="usuario">
            <th mat-header-cell *matHeaderCellDef> Usuario </th>
            <td mat-cell *matCellDef="let usuario" [ngClass]="{'seleccionado':edit && tomarci == usuario.ci_coor  ,'noseleccionado':!edit}">
                <div *ngIf="tomarci == usuario.ci_coor && edit ">
                    <form class="col s1" [formGroup]="usuarioFormE">
                        <input type="text" matInput class="validate" formControlName="ci_coor" placeholder="{{usuario.ci_coor}} ">

                    </form>
                </div>
                <div *ngIf="tomarci != usuario.ci_coor && edit">
                    <span>{{usuario.ci_coor}}</span>

                </div>
                <div *ngIf="!edit">
                    <span>{{usuario.ci_coor}}</span>
                </div>

                <!-- {{usuario.ci_coor}}  -->
            </td>
        </ng-container>


        <ng-container matColumnDef="ci">
            <th mat-header-cell *matHeaderCellDef> CI </th>
            <td mat-cell *matCellDef="let usuario" [ngClass]="{'seleccionado':edit && tomarci == usuario.ci_coor  ,'noseleccionado':!edit}">
                <div *ngIf="tomarci == usuario.ci_coor && edit ">
                    <form class="col s1" [formGroup]="usuarioFormE">
                        <input type="text " matInput formControlName="ci_coor" placeholder="{{usuario.ci_coor}}">

                    </form>
                </div>
                <div *ngIf="tomarci != usuario.ci_coor && edit">
                    <span>{{usuario.ci_coor}}</span>

                </div>
                <div *ngIf="!edit">
                    <span>{{usuario.ci_coor}}</span>
                </div>

            </td>
        </ng-container>



        <ng-container matColumnDef="nombre">
            <th mat-header-cell *matHeaderCellDef> Nombre </th>
            <td mat-cell *matCellDef="let usuario" [ngClass]="{'seleccionado':edit && tomarci == usuario.ci_coor  ,'noseleccionado':!edit}">
                <div *ngIf="tomarci == usuario.ci_coor && edit ">
                    <form class="col s1" [formGroup]="usuarioFormE">
                        <input type="text " matInput class="browser-default" class="validate" formControlName="nom_coor" placeholder="{{usuario.nom_coor}}">

                    </form>
                </div>
                <div *ngIf="tomarci != usuario.ci_coor && edit">
                    <span>{{usuario.nom_coor}}</span>

                </div>
                <div *ngIf="!edit">
                    <span>{{usuario.nom_coor}}</span>
                </div>
            </td>
        </ng-container>


        <ng-container matColumnDef="apellido">
            <th mat-header-cell *matHeaderCellDef> Apellido </th>
            <td mat-cell *matCellDef="let usuario" [ngClass]="{'seleccionado':edit && tomarci == usuario.ci_coor  ,'noseleccionado':!edit}">
                <div *ngIf="tomarci == usuario.ci_coor && edit ">
                    <form class="col s1" [formGroup]="usuarioFormE">
                        <input type="text " class="validate" matInput formControlName="ape_coor" placeholder="{{usuario.ape_coor}}">

                    </form>
                </div>
                <div *ngIf="tomarci != usuario.ci_coor && edit">
                    <span>{{usuario.ape_coor}}</span>

                </div>
                <div *ngIf="!edit">
                    <span>{{usuario.ape_coor}}</span>
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="correo">
            <th mat-header-cell *matHeaderCellDef> Correo </th>
            <td mat-cell *matCellDef="let usuario" [ngClass]="{'seleccionado':edit && tomarci == usuario.ci_coor  ,'noseleccionado':!edit}">
                <div *ngIf="tomarci == usuario.ci_coor && edit ">
                    <form class="col s1" [formGroup]="usuarioFormE">
                        <input type="text " class="validate" formControlName="correo_coor" placeholder="{{usuario.correo_coor}}">

                    </form>
                </div>
                <div *ngIf="tomarci != usuario.ci_coor && edit">
                    <span>{{usuario.correo_coor}}</span>

                </div>
                <div *ngIf="!edit">
                    <span>{{usuario.correo_coor}}</span>
                </div>
            </td>
        </ng-container>


        <ng-container matColumnDef="roll">
            <th mat-header-cell *matHeaderCellDef> roll </th>
            <td mat-cell *matCellDef="let usuario" [ngClass]="{'seleccionado':edit && tomarci == usuario.ci_coor  ,'noseleccionado':!edit}">
                <div *ngIf="tomarci == usuario.ci_coor && edit ">
                    <form class="col s1" [formGroup]="usuarioFormE">
                        <input type="text " class="validate" formControlName="role" placeholder="{{usuario.role}}">

                    </form>
                </div>
                <div *ngIf="tomarci != usuario.ci_coor && edit">
                    <span>{{usuario.role}}</span>

                </div>
                <div *ngIf="!edit">
                    <span>{{usuario.role}}</span>
                </div>
            </td>
        </ng-container>


        <ng-container matColumnDef="boton">
            <th mat-header-cell *matHeaderCellDef> Eliminar </th>
            <td mat-cell *matCellDef="let usuario" [ngClass]="{'seleccionado':edit && tomarci == usuario.ci_coor  ,'noseleccionado':!edit}"> <button (click)="borrarUsuario(usuario.ci_coor)" mat-icon-button>
      <mat-icon>delete</mat-icon>
    </button> </td>
        </ng-container>



        <!--  <ng-container matColumnDef="botonE">
            <th mat-header-cell *matHeaderCellDef> Editar </th>
            <td mat-cell *matCellDef="let materia" [ngClass]="{'seleccionado':edit && tomarci == materia.ci_coor  ,'noseleccionado':!edit}">


                <div *ngIf="edit && tomarci == materia.ci_coor ">
                    <form class="col s1 " [formGroup]="usuarioFormE" (ngSubmit)="SaveEdit()">
                        <button (click)="edit = false " mat-icon-button id="editado">
                  <mat-icon>clear</mat-icon>
              </button>
                        <button [disabled]="!usuarioFormE.valid" type="submit" mat-icon-button id="editado">
                <mat-icon>done</mat-icon>
            </button>
                    </form>
                </div>


                <div *ngIf="!edit">
                    <button (click)="EditarMateria(materia.ci_coor)" (click)="edit=true" (click)="horaP=materia.horas_pra" (click)="horaL = materia.horas_lab  " mat-icon-button>
               <mat-icon>edit</mat-icon>
            </button>
                </div>

            </td>
        </ng-container>

 -->


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons></mat-paginator>
</div>